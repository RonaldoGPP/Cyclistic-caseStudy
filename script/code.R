getwd()
setwd("D:/dataset/formatted")
getwd()
library(tidyverse)
library(lubridate)
library(ggplot2)
library(tidyverse)
jan_2022 <- read_csv("202201-divvy-tripdata.csv")
feb_2022 <- read_csv("202202-divvy-tripdata.csv")
mar_2022 <- read_csv("202203-divvy-tripdata.csv")
apr_2022 <- read_csv("202204-divvy-tripdata.csv")
may_2022 <- read_csv("202205-divvy-tripdata.csv")
jun_2022 <- read_csv("202206-divvy-tripdata.csv")
jul_2022 <- read_csv("202207-divvy-tripdata.csv")
aug_2022 <- read_csv("202208-divvy-tripdata.csv")
sept_2022 <- read_csv("202209-divvy-tripdata.csv")
oct_2022 <- read_csv("202210-divvy-tripdata.csv")
nov_2022 <- read_csv("202211-divvy-tripdata.csv")
dec_2022 <- read_csv("202212-divvy-tripdata.csv")
colnames(jan_2022)
colnames(feb_2022)
colnames(mar_2022)
colnames(apr_2022)
colnames(may_2022)
colnames(jun_2022)
colnames(jul_2022)
colnames(aug_2022)
colnames(sept_2022)
colnames(oct_2022)
colnames(nov_2022)
colnames(dec_2022)
jan_2022 <- mutate(jan_2022, ride_id = as.character(ride.id))
jan_2022 <- mutate(jan_2022, ride_id = as.character(ride_id))
feb_2022 <- mutate(feb_2022, ride_id = as.character(ride_id))
mar_2022 <- mutate(mar_2022, ride_id = as.character(ride_id))
apr_2022 <- mutate(apr_2022, ride_id = as.character(ride_id))
may_2022 <- mutate(may_2022, ride_id = as.character(ride_id))
jun_2022 <- mutate(jun_2022, ride_id = as.character(ride_id))
jul_2022 <- mutate(jul_2022, ride_id = as.character(ride_id))
aug_2022 <- mutate(aug_2022, ride_id = as.character(ride_id))
sept_2022 <- mutate(sept_2022, ride_id = as.character(ride_id))
oct_2022 <- mutate(oct_2022, ride_id = as.character(ride_id))
nov_2022 <- mutate(nov_2022, ride_id = as.character(ride_id))
dec_2022 <- mutate(dec_2022, ride_id = as.character(ride_id))
all_trips <- bind_rows(jan_2022,feb_2022,mar_2022,apr_2022,may_2022,jun_2022,jul_2022,aug_2022,sept_2022,oct_2022,nov_2022,dec_2022)
jan_2022 <- mutate(jan_2022, rideable_type = as.character(rideable_type))
feb_2022 <- mutate(feb_2022, rideable_type = as.character(rideable_type))
str(jan_2022)
str(feb_2022)
str(mar_2022)
str(apr_2022)
str(may_2022)
str(jun_2022)
str(jul_2022)
str(aug_2022)
str(sept_2022)
str(oct_2022)
str(nov_2022)
str(dec_2022)
jun_2022 <- mutate(jun_2022, end_station_id = as.character(end_station_id),rideable_type = as.character(rideable_type))
sept_2022 <- mutate(sept_2022, end_station_id = as.character(end_station_id), rideable_type = as.character(rideable_type))
jan_2022 <- mutate(jan_2022, rideable_type = as.character(rideable_type))
feb_2022 <- mutate(feb_2022, rideable_type = as.character(rideable_type))
mar_2022 <- mutate(mar_2022, rideable_type = as.character(rideable_type))
apr_2022 <- mutate(apr_2022, rideable_type = as.character(rideable_type))
all_trips <- bind_rows(jan_2022,feb_2022,mar_2022,apr_2022,may_2022,jun_2022,jul_2022,aug_2022,sept_2022,oct_2022,nov_2022,dec_2022)
all_trips <- alltrips %>%
  select(-c(start_lat, start_lng, end_lat, end_lng))
all_trips <- all_trips %>%
  select(-c(start_lat, start_lng, end_lat, end_lng))
colnames(all_trips)
nrow(all_trips)
dim(all_trips)
head(all_trips)
str(all_trips)
summary(all_trips)
table(all_trips$member_casual)
all_trips%date <- as.Date(all_trips$started_at)
all_trips$date <- as.Date(all_trips$started_at)
all_trips$month <- format(as.Date(all_trips$date), "%m")
all_trips$day <- format(as.Date(all_trips$date), "%d")
all_trips$year <- format(as.Date(all_trips$date), "%Y")
all_trips$day_of_week <- format(as.Date(all_trips$date), "%A")
all_trips$ride_length <- difftime(all_trips$ended_at, all_trips$started_at)
str(all_trips)
is.factor(all_trips$ride_length)
all_trips$ride_length <- as.numeric(as.character(all_trips$ride_length))
is.numeric(all_trips$ride_length)
all_trips_v2 <- all_trips[!(all_trips$start_station_name == "HQ QR" | all_trips$ride_length<0),]
summary(all_trips_v2)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN=mean)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN=median)
table(all_trips_v2)
head(all_trips_v2)
str(all_trips_v2)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN=max)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual, FUN=min)
aggregate(all_trips_v2$ride_length ~ all_trips_v2$member_casual + all_trips_v2$day_of_week, FUN=mean)

